import{j as L,r as v,R as J}from"./react-0bfda011.js";import{c as z}from"./react-dom-04471a10.js";import{u as j,a as E,P as T}from"./react-redux-da320f2e.js";import{Q as N}from"./react-toastify-5f669e26.js";import{c as C,a as W,b as _}from"./@reduxjs-289c7799.js";import{a as q}from"./axios-aba6f0e0.js";import{a as D,N as $,d as H,e as x}from"./react-router-ed63dfb7.js";import"./hoist-non-react-statics-b24a8e72.js";import"./react-is-1aacdabe.js";import{F as M,I as G,T as K}from"./react-icons-37147158.js";import{L as S,B as U}from"./react-router-dom-4248cb61.js";import"./scheduler-04ce0582.js";import"./use-sync-external-store-da90c88d.js";import"./clsx-1229b3e0.js";import"./immer-b106be54.js";import"./redux-17d3a502.js";import"./@babel-1a7d35ad.js";import"./redux-thunk-ef899f4c.js";import"./@remix-run-35d41228.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();const c=L.Fragment,e=L.jsx,o=L.jsxs;function V(){return e("div",{children:e("section",{class:"  w-[50%] m-auto mt-[5%] shadow-2xl bg-center bg-no-repeat bg-[url('https://www.herzing.edu/sites/default/files/styles/fp_640_288/public/images/blog/students_study_1.jpg.webp?itok=riENGJSB')] bg-gray-300 rounded-3xl bg-blend-multiply",children:o("div",{class:"  px-4 mx-auto max-w-screen-xl text-center py-24 lg:py-56",children:[e("h1",{class:"mb-4 text-4xl font-extrabold tracking-tight leading-none text-black md:text-5xl lg:text-6xl",children:"THE BANK"}),e("p",{class:"mb-8 text-lg font-normal text-black lg:text-xl sm:px-16 lg:px-48",children:"Prepare for your technical interviews with quizzes."}),e("div",{class:"flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:e("a",{href:"/login",class:"w-[20%] m-auto shadow-2xl inline-flex justify-center hover:text-gray-900 items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg border bg-black border-gray hover:bg-gray-100 focus:ring-4 focus:ring-gray-400",children:"Get Started"})})]})})})}const Y=()=>e(c,{children:e("div",{children:e(V,{})})}),Q=async s=>{const r=await q.post("signup",s);return r.data&&localStorage.setItem("user",JSON.stringify(r.data)),r.data},X=async s=>{const r=await q.post("login",s);return r.data&&localStorage.setItem("user",JSON.stringify(r.data)),r.data},Z=()=>{localStorage.removeItem("user")},P={register:Q,logout:Z,login:X},I=JSON.parse(localStorage.getItem("user")),ee={user:I||null,isError:!1,isSuccess:!1,isLoading:!1,message:""},w=C("auth/register",async(s,r)=>{try{return await P.register(s)}catch(t){const n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return r.rejectWithValue(n)}}),k=C("auth/login",async(s,r)=>{try{return await P.login(s)}catch(t){const n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return r.rejectWithValue(n)}}),F=C("auth/logout",async()=>{await P.logout()}),A=W({name:"auth",initialState:ee,reducers:{reset:s=>{s.isLoading=!1,s.isSuccess=!1,s.isError=!1,s.message=""}},extraReducers:s=>{s.addCase(w.pending,r=>{r.isLoading=!0}).addCase(w.fulfilled,(r,t)=>{r.isLoading=!1,r.isSuccess=!0,r.user=t.payload}).addCase(w.rejected,(r,t)=>{r.isLoading=!1,r.isError=!0,r.message=t.payload,r.user=null}).addCase(k.pending,r=>{r.isLoading=!0}).addCase(k.fulfilled,(r,t)=>{r.isLoading=!1,r.isSuccess=!0,r.user=t.payload}).addCase(k.rejected,(r,t)=>{r.isLoading=!1,r.isError=!0,r.message=t.payload,r.user=null}).addCase(F.fulfilled,r=>{r.user=null})}}),{reset:O}=A.actions,re=A.reducer;function B(){return e("div",{className:"loadingSpinnerContainer",children:e("div",{className:"loadingSpinner"})})}function te(){const[s,r]=v.useState({email:"",password:""}),{email:t,password:n}=s,a=D(),i=j(),{user:l,isLoading:g,isError:m,isSuccess:f,message:p}=E(d=>d.auth);v.useEffect(()=>{m&&N.error(p),(f||l)&&a("/dashboard"),i(O())},[l,m,f,p,a,i]);const h=d=>{r(b=>({...b,[d.target.name]:d.target.value}))},y=d=>{d.preventDefault(),i(k({email:t,password:n}))};return g?e(B,{}):e(c,{children:e("div",{children:e("section",{class:" w-[30%] m-auto h-[500px] mt-8 rounded-3xl shadow-2xl bg-gray-50 dark:bg-gray-400",children:e("div",{class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:e("div",{class:"w-full relative bottom-[150px] rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:o("div",{class:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[e("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your account"}),o("form",{onSubmit:y,class:"space-y-4 md:space-y-6",action:"#",children:[o("div",{children:[e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),e("input",{type:"email",name:"email",id:"email",value:t,onChange:h,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter your email here",required:""})]}),o("div",{children:[e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),e("input",{type:"password",name:"password",id:"password",value:n,onChange:h,placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""})]}),e("button",{type:"submit",class:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Sign in"}),o("p",{class:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Don’t have an account yet? ",e("a",{href:"/register",class:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Sign up"})]})]})]})})})})})})}function ae(){const[s,r]=v.useState({userName:"",email:"",password:"",password2:""}),{userName:t,email:n,password:a,password2:i}=s,l=D(),g=j(),{user:m,isLoading:f,isError:p,isSuccess:h,message:y}=E(u=>u.auth);v.useEffect(()=>{p&&N.error(y),(h||m)&&l("/dashboard"),g(O())},[m,p,h,y,l,g]);const d=u=>{r(R=>({...R,[u.target.name]:u.target.value}))},b=u=>{u.preventDefault(),a!==i?N.error("Passwords do not match!"):g(w({userName:t,email:n,password:a}))};return f?e(B,{}):e(c,{children:e("div",{children:e("section",{class:" w-[30%] mt-5 m-auto h-[650px] rounded-3xl shadow-2xl bg-gray-50 dark:bg-gray-400",children:e("div",{class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:e("div",{class:"w-full relative bottom-[50px] rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:o("div",{class:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[e("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign Up"}),o("form",{onSubmit:b,class:"space-y-4 md:space-y-6",action:"#",children:[o("div",{children:[e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"User Name"}),e("input",{type:"text",name:"username",id:"userName",value:t,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter your username",onChange:d,required:""})]}),o("div",{children:[e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),e("input",{type:"email",name:"email",id:"email",value:n,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter your email",onChange:d,required:""})]}),o("div",{children:[e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),e("input",{type:"password",name:"password",id:"password",value:a,placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:d,required:""})]}),o("div",{children:[e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm Password"}),e("input",{type:"password",name:"password",id:"password",placeholder:"••••••••",value:i,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:d,required:""})]}),e("button",{type:"submit",class:"w-[60%] shadow-2xl inline-flex justify-center hover:text-gray-900 items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg border border-gray hover:bg-gray-100 focus:ring-4 focus:ring-gray-400",children:"Create Account"})]})]})})})})})})}function se(){return e(c,{children:o("h1",{className:"bg-red-400",children:["Welcome ",userName]})})}const oe="/assets/bank-160ff04e.png";function ie(){const s=D(),r=j(),{user:t}=E(a=>a.auth);return e(c,{children:o("header",{className:"bg-gray-200 navbar flex justify-between items-center p-4",children:[e("div",{className:"",children:e(S,{to:"/",children:e("img",{src:oe,className:"w-10 h-10 rounded-full shadow-2xl",alt:"logo"})})}),e("ul",{className:"menu menu-horizontal px-2",children:t?e("li",{children:o("button",{className:"bg-blue-900 hover:bg-blue-500 text-white py-2 px-4 rounded",onClick:()=>{r(F()),r(O()),s("/")},children:[e(M,{}),"Logout"]})}):o(c,{children:[e("li",{children:o(S,{to:"/login",className:"bg-blue-400 hover:bg-blue-500 text-white py-2 px-4 rounded m-2",children:[e(G,{}),"Login"]})}),e("li",{children:o(S,{to:"/register",className:"bg-blue-400 hover:bg-blue-500 text-white py-2 px-4 rounded m-2",children:[e(K,{}),"Sign up"]})})]})})]})})}const ne=JSON.parse(localStorage.getItem("user")),de=({children:s})=>ne?s:e($,{to:"/"});function le(){return e(c,{children:o(U,{children:[e(ie,{}),e("div",{children:o(H,{children:[e(x,{path:"/",element:e(Y,{})}),e(x,{path:"/login",element:e(te,{})}),e(x,{path:"/register",element:e(ae,{})}),e(x,{path:"/dashboard",element:e(de,{children:e(se,{})})})]})})]})})}const ce=_({reducer:{auth:re}});z.createRoot(document.getElementById("root")).render(e(J.StrictMode,{children:e(T,{store:ce,children:e(le,{})})}));
